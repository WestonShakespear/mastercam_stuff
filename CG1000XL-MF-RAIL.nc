%
O04102 (1000XL Midframe Bearing Rails *LEFT INFEED)
(2" x 3" TUBING 1/8" WALL THICKNESS)
(3" FACE TOP AND BOTTOM)

(FRONT PART ORIGINS)
(G110 Z TOP OF PART, X RIGHT END OF PART, Y CENTER OF PART)
(G112 Z TOP OF PART, X LEFT END OF PART, Y CENTER OF PART)

(REAR PART ORIGINS)
(G111 Z TOP OF PART, X RIGHT END OF PART, Y CENTER OF PART)
(G113 Z TOP OF PART, X LEFT END OF PART, Y CENTER OF PART)

(TOOLS)
(T17 D=0.5 Flat End Mill Z-0.4018 MAX DEPTH)


/ G109 V10800. (INPUT UNIT LENGTH)
IF [[#10800 GT 95.] AND [#10800 LT 30.]] THEN #3000 = 78 (UNIT LENGTH TOO LONG/SHORT!!)
G103 P1


#10850 = #10800 (NOMINAL PART LENGTH MINUS ACTUAL LENGTH)
#10000 = #10800 (SET MACRO TO SHOW INPUT UNIT LENGTH)
#10801 = #10800-1.5 (CUT LENGTH 93.5)
#10802 = #10800-0.75 (BOTTOM FRAME REFERENCE POSITION)
#10803 = [#10802+0.75]/2+0.25 (WELD POSITION REFERENCE POSITION)
#10804 = #10801-4-[#10802-#10803]-.4375-.4375-1.375 (CROSS SUPPORT REFRENCE POSITION)
#10805 = [#10800*.5]+2.5 (BEARING 1 POSITION)
#10806 = 14. (BEARING 2 POSITION)
#10807 = [#10805-#10806]/2+#10806 (BEARING 3 POSITION)
IF [#10850 LT 63.] THEN #10807 = 14.
#10808 = #10800-1.25 (MIDDLE FRAME REFERENCE POSITION)
#10809 = #10808-1.25 (BEARING 4 POSITION 92.5)
#10810 = 1.00 (BEARING 5 POSITION)
#10811 = #10800 / 2 -0.75 (BEARING 6 POSITION)
#10812 = #10808-0.25 (SIDE RAIL REFRENCE POSITION)
#10813 = .25*#10811+.75*#10800+.0625 (BEARING 7 POSITION)
#10814 = #10807+2.25  (WITNESS MARK 1 POSITION)
#10815 = #10809-2.25 (WITNESS MARK 2 POSITION)
#10816 = #10805+4.25  (WITNESS MARK 3 POSITION)
#10817 = #10810+4.25 (WITNESS MARK 4 POSITION)
#10818 = #10811-2.25 (WITNESS MARK 5 POSITION)
#10819 = #10813-2.25 (WITNESS MARK 6 POSITION)
#10820 = #10801-#10809 (BEARING 4 POSITION FROM TAILGATE END)
#10821 = #10801-#10813 (BEARING 7 POSITION FROM TAILGATE END)
#10822 = #10801-#10815 (WITNESS MARK 2 POSITION FROM TAILGATE END)
#10823 = #10801-#10819 (WITNESS MARK 6 POSITION FROM TAILGATE END)
#10824 = 0.755 (BEARING OFFSET 1 .825)
#10825 = 0.93 (BEARING OFFSET 2 .875)
#10826 = #10801-#10805 (BEARING 1 POSITION FROM RIGHT EDGE)
#5303 = #14363 (SETS G58 Z HEIGHT WITH G154 P19)
#10830 = 5. (MIRROR AXIS OFFSET)
G90 G10 L20 P1 X-.75 Y-13.0261 Z-24.42 (SET G110 OFFSETS)
G90 G10 L20 P2 X-.75 Y-7.3222 Z-24.4308 (SET G111 OFFSETS)
G90 G10 L20 P3 X-49.25 Y-13.0261 Z-24.42 (SET G112 OFFSETS)
G90 G10 L20 P4 X-49.25 Y-7.3222 Z-24.4308 (SET G113 OFFSETS)
G103 P0



(- SAFE START & LOAD BLOCKS -)
G90 G94 G17
G20
G53 G0 Z0.
G53 X-50. Y-10.
#3006 = 1 (INSERT RAILS & ALIGN TO LEFT END STOP)
M55 (ENGAGE HYDRAULIC VISES)
G4 P2.5 (PAUSE FOR HYDRAULICS)
M00 
T17 M06 (LOAD TOOL 17)
S6112 M3 (TURN SPINDLE ON CLOCKWISE @6112 RPM)
M31 (START CHIP AUGER)

(MACHINE RIGHT RAIL TAILGATE END INSIDE FACE -)
G112 G0 X-.5 Y0. (MACHINE END CAP HOLE ON RIGHT RAIL)
G43 Z0.25 H17 
G01 Z-.750 F100.
X0. F20.
Z.250 F100.
G90 G0 Z2.
G112 G90 G0 X#10820 Y-#10825 (MOVE TO BEARING 4 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 4 SMALL DIAMETER)
G112 G90 G0 X#10822 Y-#10825 (MOVE TO WITNESS MARK 2 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 2)
G112 G90 G0 X#10821 Y#10824 (MOVE TO BEARING 7 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 7 LARGE DIAMETER)
G112 G90 G0 X[#10801-#10816] Y-#10825 (MOVE TO WITNESS MARK 3 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 3)
G112 G90 G0 X[#10826-2.] Y-#10825 (MOVE TO BEARING 1B POSITION FROM TAILGATE END)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 1B SMALL DIAMETER)
G112 G90 G0 X#10826 Y-#10824 (MOVE TO BEARING 1A POSITION FROM TAILGATE END)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 1A SMALL DIAMETER)

(MACHINE LEFT RAIL TAILGATE END INSIDE FACE -)
G113 G0 X-.5 Y0. (MACHINE END CAP HOLE ON LEFT RAIL)
G43 Z0.25 H17 
G01 Z-.750 F100.
X0. F20.
Z.250 F100.
G90 G0 Z2.
G101 Y0. (ENABLE MIRROR IMAGE IN Y "ABOUT X AXIS")
G113 G90 G0 X#10820 Y-#10825 (MOVE TO BEARING 4 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 4 SMALL DIAMETER)
G113 G90 G0 X#10822 Y-#10825 (MOVE TO WITNESS MARK 2 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 2)
G113 G90 G0 X#10821 Y#10824 (MOVE TO BEARING 7 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 7 LARGE DIAMETER)
G113 G90 G0 X[#10801-#10816] Y-#10825 (MOVE TO WITNESS MARK 3 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 3)
G113 G90 G0 X[#10826-2.] Y-#10825 (MOVE TO BEARING 1B POSITION FROM TAILGATE END)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 1B SMALL DIAMETER)
G113 G90 G0 X#10826 Y-#10824 (MOVE TO BEARING 1A POSITION FROM TAILGATE END)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 1A SMALL DIAMETER)

(PREP FOR CAB END INSIDE FACE)
G100 Y0 (CANCEL MIRROR IMAGE)
M05 (STOP SPINDLE)
M33 (CHIP AUGER STOP)
G90 G53 G00 Z0. (SAFE Z)
G53 X-25. Y0. (FRONT AND CENTER TABLE)
M65 (RELEASE HYDRAULIC VISES)
#3006 = 1 (SLIDE RAILS TO RIGHT END STOP)
M55 (ENGAGE HYDRAULIC VISES)
G4 P2.5 (PAUSE FOR HYDRAULICS)
M00 
M31 (START CHIP AUGER)
T17 M6
S3247 M3

(- MACHINE RIGHT RAIL CAB END INSIDE FACE -)
G110 G90 G0 X-#10810 Y#10824 (MOVE TO BEARING 5A POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 5A LARGE Diameter)
G110 G90 G0 X-[#10810+2.] Y#10825 (MOVE TO BEARING 5B POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 5B LARGE Diameter)
IF [#10850 GE 63.] THEN G110 G90 G0 X-#10806 Y-#10825 (MOVE TO BEARING 2 LOCATION)
IF [#10850 GE 63.] THEN M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 2 SMALL Diameter)
G110 G90 G0 X-#10807 Y-#10825 (MOVE TO BEARING 3 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 3 SMALL Diameter)
G110 G90 G0 X-#10814 Y-#10825 (MOVE TO WITNESS MARK 1 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 1)
G110 G90 G0 X-#10811 Y#10825 (MOVE TO BEARING 6 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 6 Large Diameter)

(- MACHINE LEFT RAIL CAB END INSIDE FACE -)
G101 Y0. (ENABLE MIRROR IMAGE IN Y "ABOUT X AXIS")
G111 G90 G0 X-#10810 Y#10824 (MOVE TO BEARING 5A POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 5A LARGE Diameter)
G111 G90 G0 X-[#10810+2.] Y#10825 (MOVE TO BEARING 5B POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 5B LARGE Diameter)
IF [#10850 GE 63.] THEN G111 G90 G0 X-#10806 Y-#10825 (MOVE TO BEARING 2 LOCATION)
IF [#10850 GE 63.] THEN M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 2 SMALL Diameter)
G111 G90 G0 X-#10807 Y-#10825 (MOVE TO BEARING 3 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 3 SMALL Diameter)
G111 G90 G0 X-#10814 Y-#10825 (MOVE TO WITNESS MARK 1 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 1)
G111 G90 G0 X-#10811 Y#10825 (MOVE TO BEARING 6 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 6 Large Diameter)

(PREP FOR CAB END OUTSIDE FACE)
G100 Y0 (CANCEL MIRROR IMAGE)
M05 (STOP SPINDLE)
M33 (CHIP AUGER STOP)
G90 G53 G00 Z0. (SAFE Z)
G53 X-25. Y0. (FRONT AND CENTER TABLE)
M65 (RELEASE HYDRAULIC VISES)
#3006 = 1 (ROTATE RAILS TO OUTSIDE FACE & SLIDE TO RIGHT END STOP)
M55 (ENGAGE HYDRAULIC VISES)
G4 P2.5 (PAUSE FOR HYDRAULICS)
M00 
M31 (START CHIP AUGER)
T17 M6
S3247 M3

(- MACHINE RIGHT RAIL CAB END OUTSIDE FACE -)
G110 G90 G0 X-#10810 Y-#10824 (MOVE TO BEARING 5A LOCATION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 5A SMALL DIAMETER)
G110 G90 G0 X-[#10810+2.] Y-#10825 (MOVE TO BEARING 5B LOCATION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 5B SMALL DIAMETER)
G110 G90 G0 X-#10817 Y-#10825 (MOVE TO WITNESS MARK 4 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 4)
IF [#10850 GE 63.] THEN G110 G90 G0 X-#10806 Y#10825 (MOVE TO BEARING 2 LOCATION)
IF [#10850 GE 63.] THEN G110 M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 2 LARGE DIAMETER)
G110 G90 G0 X-#10807 Y#10825 (MOVE TO BEARING 3 LOCATION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 3 LARGE DIAMETER)
G110 G90 G0 X-#10818 Y-#10825 (MOVE TO WITNESS MARK 4 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 5)
G110 G90 G0 X-#10811 Y-#10825 (MOVE TO BEARING 6 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 6 LARGE DIAMETER)

(- MACHINE RIGHT RAIL CAB END OUTSIDE FACE -)
G101 Y0. (ENABLE MIRROR IMAGE IN Y "ABOUT X AXIS")
G111 G90 G0 X-#10810 Y-#10824 (MOVE TO BEARING 5A LOCATION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 5A SMALL DIAMETER)
G111 G90 G0 X-[#10810+2.] Y-#10825 (MOVE TO BEARING 5B LOCATION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 5B SMALL DIAMETER)
G111 G90 G0 X-#10817 Y-#10825 (MOVE TO WITNESS MARK 4 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 4)
IF [#10850 GE 63.] THEN G111 G90 G0 X-#10806 Y#10825 (MOVE TO BEARING 2 LOCATION)
IF [#10850 GE 63.] THEN G111 M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 2 LARGE DIAMETER)
G111 G90 G0 X-#10807 Y#10825 (MOVE TO BEARING 3 LOCATION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 3 LARGE DIAMETER)
G111 G90 G0 X-#10818 Y-#10825 (MOVE TO WITNESS MARK 4 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 5)
G111 G90 G0 X-#10811 Y-#10825 (MOVE TO BEARING 6 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 6 LARGE DIAMETER)

(PREP FOR TAILGATE END OUTSIDE FACE)
G100 Y0 (CANCEL MIRROR IMAGE)
M05 (STOP SPINDLE)
M33 (CHIP AUGER STOP)
G90 G53 G00 Z0. (SAFE Z)
G53 X-25. Y0. (FRONT AND CENTER TABLE)
M65 (RELEASE HYDRAULIC VISES)
#3006 = 1 (SLIDE RAILS TO LEFT END STOP)
M55 (ENGAGE HYDRAULIC VISES)
G4 P2.5 (PAUSE FOR HYDRAULICS)
M00 
M31 (START CHIP AUGER)
T17 M6
S6112 M3

(- MACHINE RIGHT RAIL TAILGATE END OUTSIDE FACE -)
G112 G0 X-.5 Y0. (MACHINE END CAP HOLE ON RIGHT RAIL)
G43 Z0.25 H17 
G01 Z-.750 F100.
X0. F20.
Z.250 F100.
G90 G0 Z2.
G112 G90 G0 X#10820 Y#10825 (MOVE TO BEARING 4 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 4 LARGE DIAMETER)
G112 G90 G0 X#10821 Y-#10824 (MOVE TO BEARING 7 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 7 SMALL DIAMETER)
G112 G90 G0 X#10823 Y-#10825 (MOVE TO WITNESS MARK 6 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 6)
G112 G90 G0 X[#10826-2.] Y#10825 (MOVE TO BEARING 1B POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 1B LARGE DIAMETER)
G112 G90 G0 X#10826 Y#10824 (MOVE TO BEARING 1A POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 1A LARGE DIAMETER)

(- MACHINE LEFT RAIL TAILGATE END OUTSIDE FACE -)
G113 G0 X-.5 Y0. (MACHINE END CAP HOLE ON LEFT RAIL)
G43 Z0.25 H17 
G01 Z-.750 F100.
X0. F20.
Z.250 F100.
G90 G0 Z2.
G101 Y0. (ENABLE MIRROR IMAGE IN Y "ABOUT X AXIS")
G113 G90 G0 X#10820 Y#10825 (MOVE TO BEARING 4 POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 4 LARGE DIAMETER)
G113 G90 G0 X#10821 Y-#10824 (MOVE TO BEARING 7 POSITION)
M97 P1002 (CALL SUBROUTINE TO MACHINE BEARING 7 SMALL DIAMETER)
G113 G90 G0 X#10823 Y-#10825 (MOVE TO WITNESS MARK 6 POSITION)
M97 P1004 (CALL SUBROUTINE TO WITNESS MARK 6)
G113 G90 G0 X[#10826-2.] Y#10825 (MOVE TO BEARING 1B POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 1B LARGE DIAMETER)
G113 G90 G0 X#10826 Y#10824 (MOVE TO BEARING 1A POSITION)
M97 P1001 (CALL SUBROUTINE TO MACHINE BEARING 1A LARGE DIAMETER)

(FINISH UP)
G100 Y0 (CANCEL MIRROR IMAGE)
M05 (STOP SPINDLE)
M33 (CHIP AUGER STOP)
G90 G53 G00 Z0. (SAFE Z)
G53 X-50. Y-10. (MOVE RIGHT AND CENTER TABLE FOR UNLOAD)
M65 (RELEASE HYDRAULIC VISES)
M30 (END OF PROGRAM)
(---------------------------MAIN PROGRAM OPERATIONS END---------------------------)






(-----------------------SUBROUTINE PROGRAM OPERATIONS BEGIN-----------------------)

N1001 (.655 BORE SUBROUTINE W/ CUTTER COMP)
G103 P1


#23 = #4012 (ASSIGN LOCAL VAR #23 'W' AS CURRENT ACTIVE WCS);
G10 P5 L2 G90 X#5021 Y#5022 Z#[7001+20*[#23-110]+2] (SET G58 X,Y,&Z WCS)
G103
T17 M6
S5821 M3
G58
G0 X0. Y0.
G43 Z0.105 H17
G1 Z0.025 F46.57
G41 X-0.0388 Y0.2887 D17 
G3 X-0.3275 Y0. I0. J-0.2887
X0.1116 Y-0.3079 Z-0.175 I0.3275 J0.
X-0.1116 Y0.3079 I-0.1116 J0.3079
X0.1116 Y-0.3079 I0.1116 J-0.3079
X0.2847 Y0.062 I-0.0984 J0.2715
G1 G40 X0. Y0.
G0 Z0.45
M99

N1002 (.635 BORE SUBROUTINE W/ CUTTER COMP)
G103 P1


#23 = #4012 (ASSIGN LOCAL VAR #23 'W' AS CURRENT ACTIVE WCS);
G10 P5 L2 G90 X#5021 Y#5022 Z#[7001+20*[#23-110]+2] (SET G58 X & Y WCS)
G103
T17 M6
S5821 M3
G58
G0 X0. Y0.
G43 Z0.105 H17
G1 Z0.025 F46.57
G41 X-0.0337 Y0.2838 D17
G3 X-0.3175 Y0. I0. J-0.2838
X0.126 Y-0.2914 Z-0.175 I0.3175 J0.
X-0.126 Y0.2914 I-0.126 J0.2914
X0.126 Y-0.2914 I0.126 J-0.2914
X0.2738 Y0.0816 I-0.1126 J0.2604
G1 G40 X0. Y0.
G0 Z0.45
M99


N1004 (1/2" WITNESS MARK)
T17 M6
S10000 M3
G43 G00 Z0.105 H17
G91 X-.335
G01 Z-0.125 F15. 
G01 X.67 F75. 
G00 Z0.125 
G90 Z.45
M99
%